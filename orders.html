<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HARU ì£¼ë¬¸ìš”ì²­</title>
  <link rel="stylesheet" href="common.css" />
  <style>
    .order-container {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--space-6);
    }

    .order-form {
      background: hsla(var(--color-bg-glass), 0.5);
      backdrop-filter: blur(var(--blur-md));
      border: 1px solid hsl(var(--color-border-glass));
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      box-shadow: var(--shadow-md);
    }

    .item-list {
      margin: var(--space-4) 0;
      background: hsla(var(--color-bg-elevated), 0.3);
      border: 1px solid hsl(var(--color-border-subtle));
      border-radius: var(--radius-md);
      overflow: hidden;
    }

    .item-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-3);
      border-bottom: 1px solid hsla(var(--color-border-subtle), 0.3);
    }

    .item-row:last-child {
      border-bottom: none;
    }

    .item-info {
      flex: 1;
    }

    .item-name {
      font-weight: 600;
      color: hsl(var(--color-text-primary));
    }

    .item-qty {
      font-size: var(--font-size-sm);
      color: hsl(var(--color-text-secondary));
    }

    .empty-list {
      padding: var(--space-8);
      text-align: center;
      color: hsl(var(--color-text-tertiary));
    }

    .edit-indicator {
      background: hsl(var(--color-primary) / 0.1);
      border: 1px solid hsl(var(--color-primary) / 0.3);
      padding: var(--space-3);
      border-radius: var(--radius-md);
      margin-bottom: var(--space-5);
      font-size: var(--font-size-sm);
      color: hsl(var(--color-primary));
    }
  </style>
</head>
<body>
  <canvas id="bg-canvas"></canvas>
  <div id="header-placeholder"></div>

  <main>
    <div class="order-container">
      <h1>ğŸ›’ ì£¼ë¬¸ ìš”ì²­</h1>
      <p class="text-secondary" style="margin-bottom: var(--space-6);">
        í•„ìš”í•œ ë¬¼í’ˆì„ ì£¼ë¬¸ ìš”ì²­í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ì„¸ìš”
      </p>

      <div id="editIndicator" class="edit-indicator" style="display:none;">
        âœ¨ í˜„ì¬ ìˆ˜ì • ëª¨ë“œì…ë‹ˆë‹¤. ìˆ˜ì • í›„ ì €ì¥ì„ ëˆ„ë¥´ë©´ ê¸°ì¡´ ì£¼ë¬¸ì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
      </div>

      <div class="order-form">
        <form id="orderForm">
          <!-- ì•„ë§ˆì¡´ ê²€ìƒ‰ -->
          <div style="background: hsl(var(--color-bg-elevated)); border: 2px solid hsl(var(--color-primary) / 0.2); border-radius: var(--radius-lg); padding: var(--space-4); margin-bottom: var(--space-6);">
            <h3 style="margin-bottom: var(--space-3); font-size: var(--font-size-lg);">ğŸ” ì•„ë§ˆì¡´ ë¬¼í’ˆ ê²€ìƒ‰</h3>
            <div class="form-group" style="margin-bottom: var(--space-3);">
              <input 
                type="text" 
                id="amazonSearch" 
                class="form-input" 
                placeholder="ì¼ë³¸ì–´ë¡œ ë¬¼í’ˆ ê²€ìƒ‰ (ì˜ˆ: ã‚¿ã‚ªãƒ«, ã‚·ãƒ£ãƒ³ãƒ—ãƒ¼)" 
                data-testid="input-amazon-search"
              />
            </div>
            <button type="button" id="searchAmazonBtn" class="btn btn-primary btn-sm" data-testid="button-search-amazon">
              Amazon.co.jpì—ì„œ ê²€ìƒ‰
            </button>
            <p style="font-size: var(--font-size-xs); color: hsl(var(--color-text-tertiary)); margin-top: var(--space-2); margin-bottom: 0;">
              ğŸ’¡ ê²€ìƒ‰í•˜ë©´ ìë™ìœ¼ë¡œ ëª©ë¡ì— ì¶”ê°€ë˜ê³  ë§í¬ê°€ ì €ì¥ë©ë‹ˆë‹¤
            </p>
          </div>

          <div class="form-group">
            <label class="form-label" for="category">ì¹´í…Œê³ ë¦¬</label>
            <select id="category" class="form-select" data-testid="select-category">
              <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
              <option value="ë¦°ë„¨">ë¦°ë„¨</option>
              <option value="ì–´ë©”ë‹ˆí‹°">ì–´ë©”ë‹ˆí‹°</option>
              <option value="ì²­ì†Œìš©í’ˆ">ì²­ì†Œìš©í’ˆ</option>
              <option value="ë¹„í’ˆ">ë¹„í’ˆ</option>
              <option value="ê¸°íƒ€">ê¸°íƒ€</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="itemName">ë¬¼í’ˆëª…</label>
            <input type="text" id="itemName" class="form-input" placeholder="ì˜ˆ: ìˆ˜ê±´íƒ€ì›”" data-testid="input-item-name" />
          </div>

          <div class="form-group">
            <label class="form-label" for="quantity">ìˆ˜ëŸ‰</label>
            <input type="number" id="quantity" class="form-input" min="1" value="1" data-testid="input-quantity" />
          </div>

          <div class="form-group">
            <label class="form-label" for="itemLink">ë§í¬ (ì„ íƒ)</label>
            <input type="url" id="itemLink" class="form-input" placeholder="https://www.amazon.co.jp/..." data-testid="input-item-link" />
          </div>

          <button type="button" id="addItemBtn" class="btn btn-secondary" data-testid="button-add-item">
            + ëª©ë¡ì— ì¶”ê°€
          </button>

          <div class="item-list" id="itemList">
            <div class="empty-list">ì¶”ê°€ëœ ë¬¼í’ˆì´ ì—†ìŠµë‹ˆë‹¤</div>
          </div>

          <div class="form-group">
            <label class="form-label" for="urgency">ê¸´ê¸‰ë„</label>
            <select id="urgency" class="form-select" data-testid="select-urgency">
              <option value="ì¼ë°˜">ì¼ë°˜</option>
              <option value="ê¸´ê¸‰">ê¸´ê¸‰</option>
              <option value="ë§¤ìš°ê¸´ê¸‰">ë§¤ìš°ê¸´ê¸‰</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="notes">ë¹„ê³ </label>
            <textarea id="notes" class="form-textarea" placeholder="ì¶”ê°€ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒ)" data-testid="textarea-notes"></textarea>
          </div>

          <button type="submit" id="submitBtn" class="btn btn-primary" style="width: 100%;" data-testid="button-submit">
            ì£¼ë¬¸ ìš”ì²­í•˜ê¸°
          </button>
        </form>
      </div>
    </div>
  </main>

  <footer>Â© 2025 <strong>HARU_KIM HYUN JUN</strong></footer>

  <script type="module" src="scripts/bg/scene.js"></script>
  <script type="module">
    import { initHeaderMenu } from "./header.js";
    fetch("header.html").then(r=>r.text()).then(h=>{
      document.getElementById("header-placeholder").innerHTML=h;
      initHeaderMenu();
    });
  </script>
  <script type="module" src="orders.js"></script>
  <script type="module" src="scrollTop.js"></script>

</body>
</html>
