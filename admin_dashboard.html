<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HARU ê´€ë¦¬ì Â· ë¦°ë„¨ í†µê³„</title>
  
  <!-- ê³µí†µ ìŠ¤íƒ€ì¼ -->
  <link rel="stylesheet" href="common.css" />

  <style>
    /* -------------------------------
       ğŸ¨ Page Specific Styles
       Theme: Tokyo Day Bright (No Emoji, Minimal)
       ------------------------------- */
    
    :root {
      --stat-incoming: #2980b9;
      --stat-return: #e74c3c;
      --stat-net: #27ae60;
      --bg-base: #F8FAFC;
      --haru-navy: #1e293b; /* Fallback color if not in common.css */
    }

    body {
      background-color: var(--bg-base);
      color: var(--haru-navy);
      /* í°íŠ¸ëŠ” common.cssì˜ Noto Sans KR ì‚¬ìš© */
      overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
    }

    .dash-container {
      max-width: 1200px;
      margin: 60px auto;
      padding: 0 24px;
      animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* íƒ€ì´í‹€ ì„¹ì…˜ (No Icon) */
    .page-header {
      margin-bottom: 40px;
      border-bottom: 1px solid #E2E8F0;
      padding-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
    }

    h2 {
      margin: 0;
      color: var(--haru-navy);
      font-weight: 900;
      font-size: 32px;
      letter-spacing: -0.03em;
    }

    .sub-title {
      font-size: 14px;
      color: #94A3B8;
      font-weight: 500;
      letter-spacing: 0.05em;
    }

    /* ğŸ“… í•„í„° ì˜ì—­ (Clean White Panel) */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      align-items: flex-end;
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      border-radius: 0; /* ê±´ì¶•ì  ë¯¸ë‹ˆë©€ë¦¬ì¦˜ (ê°ì§€ê²Œ) */
      padding: 32px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.03);
      margin-bottom: 40px;
    }

    .filter-item {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .filter-item label {
      font-weight: 700;
      color: #64748B;
      font-size: 12px;
      letter-spacing: 0.05em;
    }

    /* Input & Select (Minimal Line Style) */
    .filter-item select,
    .filter-item input[type="date"],
    .filter-item input[type="month"] {
      height: 44px; /* í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ í¬ê¸° */
      border: 1px solid #CBD5E1;
      background: #FFFFFF;
      border-radius: 0;
      padding: 0 12px;
      font-size: 14px;
      color: var(--haru-navy);
      min-width: 160px;
      transition: all 0.2s;
    }

    .filter-item select:focus,
    .filter-item input:focus {
      outline: none;
      border-color: var(--haru-navy);
      background: #FFFFFF;
    }

    .month-inline, .date-range {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .month-inline input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: var(--haru-navy);
      cursor: pointer;
    }

    /* ë²„íŠ¼ ê·¸ë£¹ */
    .filter-actions {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-left: auto;
      padding-bottom: 1px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0 24px;
      height: 44px; /* í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ í¬ê¸° */
      border-radius: 0;
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: all 0.2s ease;
      white-space: nowrap; /* ë²„íŠ¼ í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ */
    }

    /* Primary Button (Navy) */
    .btn.primary {
      background: var(--haru-navy);
      color: #FFFFFF;
      border: 1px solid var(--haru-navy);
    }
    .btn.primary:hover {
      background: #000000;
      border-color: #000000;
    }

    /* Ghost Button */
    .btn.ghost {
      background: transparent;
      color: #64748B;
      border: 1px solid #CBD5E1;
    }
    .btn.ghost:hover {
      border-color: var(--haru-navy);
      color: var(--haru-navy);
    }

    /* Export Buttons */
    .btn:not(.primary):not(.ghost) {
      background: #FFFFFF;
      border: 1px solid #CBD5E1;
      color: var(--haru-navy);
    }
    .btn:not(.primary):not(.ghost):hover {
      border-color: var(--haru-navy);
      background: #F8FAFC;
    }

    /* ğŸ“Š Cards (Upper Statistics) */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-top: 20px;
    }

    .card {
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      border-radius: 0;
      padding: 32px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: all 0.3s ease;
      position: relative;
    }

    .card:hover {
      border-color: var(--haru-navy);
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.05);
    }

    .card h3 {
      font-size: 13px;
      font-weight: 700;
      color: #94A3B8;
      margin-bottom: 16px;
      letter-spacing: 0.05em;
    }

    .card p {
      font-family: var(--font-en, sans-serif);
      font-size: 36px;
      font-weight: 300;
      color: var(--haru-navy);
      margin: 0;
      line-height: 1;
    }

    /* ğŸ“Œ Total Summary (Bottom Statistics Bar) */
    .total-summary {
      display: none; /* PC Default: Hide summary bar (Show cards instead) */
      justify-content: space-between;
      align-items: center;
      background: #FFFFFF;
      border-top: 1px solid #E2E8F0;
      border-bottom: 1px solid #E2E8F0;
      margin-top: 40px;
      padding: 24px 0;
    }

    .summary-item {
      flex: 1;
      text-align: center;
      border-right: 1px solid #F1F5F9;
    }
    .summary-item:last-child { border-right: none; }

    .summary-item .label {
      font-size: 12px;
      color: #64748B;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .summary-item .value {
      font-family: var(--font-en, sans-serif);
      font-size: 24px;
      font-weight: 600;
      color: var(--haru-navy);
    }

    #totalIncoming { color: var(--haru-navy); }
    #totalReturns { color: var(--stat-return); }
    #totalNet { color: var(--stat-net); }

    /* Info Labels */
    .info-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      padding: 0 2px;
      flex-wrap: wrap; /* Prevent overlap on small screens */
    }

    #rangeLabel, #updatedLabel {
      font-size: 13px;
      color: #94A3B8;
    }

    /* ğŸ“Š Table */
    .table-wrap {
      background: #FFFFFF;
      border: 1px solid #E2E8F0;
      border-radius: 0;
      margin-top: 40px;
    }

    .table-scroll {
      max-height: 600px;
      overflow-y: auto;
      /* Scrollbar styling for webkit */
      scrollbar-width: thin;
    }
    
    .table-scroll::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    .table-scroll::-webkit-scrollbar-thumb {
      background-color: #cbd5e1;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      /* PC: ìµœì†Œ ë„ˆë¹„ ì„¤ì • (ëª¨ë°”ì¼ì—ì„œ í•´ì œë¨) */
      min-width: 500px; 
    }

    thead th {
      position: sticky;
      top: 0;
      background: #FFFFFF;
      color: #64748B;
      font-weight: 700;
      font-size: 12px;
      padding: 20px 24px;
      text-align: left;
      border-bottom: 1px solid #E2E8F0;
      z-index: 10;
      white-space: nowrap;
    }

    tbody td {
      padding: 16px 24px;
      border-bottom: 1px solid #F1F5F9;
      color: #334155;
      font-size: 14px;
      vertical-align: middle;
    }

    tbody tr:last-child td { border-bottom: none; }
    tbody tr:hover td { background-color: #F8FAFC; }
    
    .t-right { text-align: right; }

    /* Footer */
    footer {
      text-align: center;
      color: #CBD5E1;
      padding: 60px 0;
      font-size: 12px;
      letter-spacing: 0.05em;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ğŸ“± Mobile Optimization */
    @media (max-width: 768px) {
      .dash-container {
        margin: 20px auto;
        padding: 0 16px;
      }

      .page-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
        margin-bottom: 24px;
      }
      
      h2 { font-size: 24px; }

      /* í•„í„° ì˜ì—­ ìµœì í™” */
      .filters { 
        flex-direction: column; 
        align-items: stretch;
        padding: 20px; 
        gap: 20px; 
      }
      .filter-item { width: 100%; }
      .filter-item select,
      .filter-item input[type="date"],
      .filter-item input[type="month"] {
        width: 100%;
        min-width: 0;
      }
      .date-range { display: flex; gap: 8px; }
      .date-range input[type="date"] { flex: 1; }
      
      .filter-actions {
        margin-left: 0;
        width: 100%;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-top: 10px;
      }
      #btnApply { grid-column: 1 / -1; }

      /* í†µê³„ ì¹´ë“œ ìˆ¨ê¹€ & ìš”ì•½ ë°” í‘œì‹œ */
      .cards { display: none; }
      .total-summary { 
        display: flex;
        flex-direction: column; 
        gap: 0; 
        padding: 0; 
        border: 1px solid #E2E8F0; 
        margin-top: 20px;
      }
      .summary-item { 
        border-right: none; 
        border-bottom: 1px solid #F1F5F9; 
        padding: 20px; 
        width: 100%; 
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .summary-item:last-child { border-bottom: none; }
      .summary-item .label { margin-bottom: 0; }

      /* âœ… [í•µì‹¬ ìˆ˜ì •] í…Œì´ë¸” ëª¨ë°”ì¼ í•œëˆˆì— ë³´ê¸° ìµœì í™” */
      .table-scroll {
        border: none;
        overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ì œê±° */
      }
      
      table {
        min-width: 100%; /* 500px ì œí•œ í•´ì œ */
        width: 100%; /* í™”ë©´ ê½‰ ì±„ìš°ê¸° */
        table-layout: fixed; /* ì¹¸ í¬ê¸° ê³ ì • (ë‚´ìš© ê¸¸ì–´ë„ í‘œ ì•ˆ ëŠ˜ì–´ë‚¨) */
      }
      
      /* í—¤ë” ìŠ¤íƒ€ì¼ */
      thead th {
        padding: 10px 4px; /* ì—¬ë°± ëŒ€í­ ì¶•ì†Œ */
        font-size: 12px;
        text-align: center; /* ê¸°ë³¸ ì¤‘ì•™ ì •ë ¬ */
      }
      
      /* í’ˆëª©ëª…(ì²«ë²ˆì§¸ ì¹¸) ë„“ê²Œ */
      thead th:first-child {
        width: 38%; /* ì•½ 40% í• ë‹¹ */
        text-align: left;
        padding-left: 8px;
      }
      /* ë‚˜ë¨¸ì§€ ìˆ«ìì¹¸ */
      thead th:not(:first-child) {
        width: 20.6%; /* ë‚˜ë¨¸ì§€ ê³µê°„ ê· ë“± ë¶„í•  */
      }

      /* ë°ì´í„° ì…€ ìŠ¤íƒ€ì¼ */
      tbody td {
        padding: 10px 8px; /* ì—¬ë°± ê°œì„  (4px â†’ 8px) */
        font-size: 14px; /* ê°€ë…ì„± ê°œì„  (13px â†’ 14px) */
        white-space: nowrap; /* ê¸°ë³¸ ì¤„ë°”ê¿ˆ ê¸ˆì§€ */
      }

      /* í’ˆëª©ëª…(ì²«ë²ˆì§¸ ì¹¸) ë°ì´í„° ìŠ¤íƒ€ì¼ */
      tbody td:first-child {
        white-space: normal; /* ê¸´ ì´ë¦„ì€ ì¤„ë°”ê¿ˆ í—ˆìš© */
        word-break: keep-all; /* ë‹¨ì–´ ë‹¨ìœ„ë¡œ ì¤„ë°”ê¿ˆ */
        padding-left: 8px;
        line-height: 1.3;
      }
      
      /* ìˆ«ìì¹¸ ë°ì´í„° ìŠ¤íƒ€ì¼ */
      tbody td:not(:first-child) {
        text-align: right;
        padding-right: 8px; /* ìˆ«ì ê°€ë…ì„± ìœ„í•´ ìš°ì¸¡ ì—¬ë°± ì‚´ì§ */
      }
    }
  </style>
</head>
<body>
  
  <div id="header-placeholder"></div>

  <main>
    <div class="dash-container">
      <div class="page-header">
        <h2>ë¦°ë„¨ í†µê³„ í˜„í™©</h2>
        <span class="sub-title">Administrator Dashboard</span>
      </div>

      <!-- Filters (Korean) -->
      <div class="filters">
        <div class="filter-item">
          <label for="dataType">ë¶„ë¥˜</label>
          <select id="dataType">
            <option value="all">ì „ì²´ ë‚´ì—­</option>
            <option value="incoming">ì…ê³  ë‚´ì—­ë§Œ</option>
            <option value="returns">ë°˜í’ˆ ë‚´ì—­ë§Œ</option>
          </select>
        </div>

        <div class="filter-item">
          <label for="buildingFilter">ê±´ë¬¼ ì„ íƒ</label>
          <select id="buildingFilter">
            <option value="">ì „ì²´ ê±´ë¬¼</option>
            <option value="ì•„ë¼í‚¤ì´ˆA">ì•„ë¼í‚¤ì´ˆA</option>
            <option value="ì•„ë¼í‚¤ì´ˆB">ì•„ë¼í‚¤ì´ˆB</option>
            <option value="ë‹¤ì´ì¿„ì´ˆ">ë‹¤ì´ì¿„ì´ˆ</option>
            <option value="ê°€ë¶€í‚¤ì´ˆ">ê°€ë¶€í‚¤ì´ˆ</option>
            <option value="ë‹¤ì¹´ë‹¤ë…¸ë°”ë°”">ë‹¤ì¹´ë‹¤ë…¸ë°”ë°”</option>
            <option value="ì˜¤ì¿ ë³´1">ì˜¤ì¿ ë³´1</option>
            <option value="ì˜¤ì¿ ë³´2">ì˜¤ì¿ ë³´2</option>
            <option value="ì˜¤ì¿ ë³´4">ì˜¤ì¿ ë³´4</option>
          </select>
        </div>

        <div class="filter-item">
          <label for="autoMonth">ì›”ë³„ ìë™ ì„ íƒ</label>
          <div class="month-inline">
            <input type="checkbox" id="autoMonth" checked />
            <input type="month" id="monthPicker" />
          </div>
        </div>

        <div class="filter-item">
          <label>ê¸°ê°„ ì§ì ‘ ì„¤ì •</label>
          <div class="date-range">
            <input type="date" id="startDate" />
            <span style="color:#CBD5E1; display:flex; align-items:center;">â€•</span>
            <input type="date" id="endDate" />
          </div>
        </div>

        <div class="filter-actions">
          <button id="btnApply" class="btn primary">ì¡°íšŒ</button>
          <button id="btnReset" class="btn ghost">ì´ˆê¸°í™”</button>
          <button id="btnExportCsv" class="btn">CSV</button>
          <button id="btnExportPdf" class="btn">PDF</button>
        </div>
      </div>

      <div class="info-labels">
        <div id="rangeLabel">ê¸°ê°„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
        <div id="updatedLabel"></div>
      </div>

      <!-- Cards (PC ONLY - Mobile Hidden) -->
      <div class="cards" id="statCards">
        <div class="card">
          <h3>ìƒíƒœ</h3>
          <p style="font-size: 16px; color: #94A3B8;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        </div>
        <div class="card"></div>
        <div class="card"></div>
      </div>

      <!-- Summary (Mobile ONLY - PC Hidden by default CSS) -->
      <div class="total-summary">
        <div class="summary-item">
          <div class="label">ì´ ì…ê³  ìˆ˜ëŸ‰</div>
          <div class="value" id="totalIncoming">0</div>
        </div>
        <div class="summary-item">
          <div class="label">ì´ ë°˜í’ˆ ìˆ˜ëŸ‰</div>
          <div class="value" id="totalReturns">0</div>
        </div>
        <div class="summary-item">
          <div class="label">ìˆœì…ê³  (ì‹¤ì¬ê³ )</div>
          <div class="value" id="totalNet">0</div>
        </div>
      </div>

      <!-- Table -->
      <div class="table-wrap">
        <div class="table-scroll">
          <table>
            <thead>
              <tr>
                <th>í’ˆëª©ëª…</th>
                <th class="t-right">ì…ê³ </th>
                <th class="t-right">ë°˜í’ˆ</th>
                <th class="t-right">ìˆœì…ê³ </th>
              </tr>
            </thead>
            <tbody id="linenTableBody">
              <tr>
                <td colspan="4" style="text-align:center; padding: 60px; color: #CBD5E1;">
                  ë°ì´í„° ë¡œë”© ì¤‘...
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <footer>
    Â© 2025 HARU SYSTEM Â· TOKYO
  </footer>

  <script type="module" src="admin_dashboard.js"></script>
  <script type="module" src="scrollTop.js"></script>
  <script type="module" src="notice_popup.js"></script>
  <script type="module" src="maintenance_guard.js"></script>


</body>
</html>